
# 2.4s user time, 10ms system time, 29.30M rss, 35.14M vsz
# Current date: Sat Jul 30 06:40:29 2022
# Hostname: ip-172-16-0-170
# Files: /tmp/b0636-f56dbee-mysql-slow.log
# Overall: 38.15k total, 14 unique, 459.67 QPS, 2.78x concurrency ________
# Time range: 2022-07-30T06:36:27 to 2022-07-30T06:37:50
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           231s     1us      3s     6ms    20ms    25ms    84us
# Lock time            51s       0   430ms     1ms    10ms     5ms       0
# Rows sent        116.86k       0     199    3.14    0.99   18.09       0
# Rows examine      28.16M       0   3.08M  773.98    0.99  16.39k       0
# Query size         1.50M      27     155   41.29  136.99   24.62   31.70

# Profile
# Rank Query ID                      Response time  Calls R/Call V/M   Ite
# ==== ============================= ============== ===== ====== ===== ===
#    1 0x676347F321DB8BC7FCB05D49... 114.5363 49.6%  1429 0.0802  0.06 SELECT visit_history
#    2 0x94A9E43DFAAFA029A1FC19A5... 105.7153 45.8%  8458 0.0125  0.02 REPLACE id_generator
# MISC 0xMISC                         10.6812  4.6% 28266 0.0004   0.0 <12 ITEMS>

# Query 1: 18.09 QPS, 1.45x concurrency, ID 0x676347F321DB8BC7FCB05D4948FC2248 at byte 8381437
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.06
# Time range: 2022-07-30T06:36:31 to 2022-07-30T06:37:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3    1429
# Exec time     49    115s   179us   653ms    80ms   208ms    69ms    59ms
# Lock time      0     3ms       0   104us     2us     2us     3us     1us
# Rows sent     97 113.72k       0     199   81.49  174.84   50.85   69.19
# Rows examine  89  25.08M       0  49.19k  17.97k  44.45k  12.35k  13.78k
# Query size    12 199.56k     142     144     143  136.99    0.70  136.99
# String:
# Databases    isuports
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ###
#   1ms  #####
#  10ms  ################################################################
# 100ms  ###############################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuports` LIKE 'visit_history'\G
#    SHOW CREATE TABLE `isuports`.`visit_history`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT player_id, MIN(created_at) AS min_created_at FROM visit_history WHERE tenant_id = 59 AND competition_id = '184b9b3e1' GROUP BY player_id\G

# Query 2: 109.84 QPS, 1.37x concurrency, ID 0x94A9E43DFAAFA029A1FC19A5563AD0F5 at byte 521219
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2022-07-30T06:36:31 to 2022-07-30T06:37:48
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         22    8458
# Exec time     45    106s     3ms   786ms    12ms    23ms    16ms    11ms
# Lock time     99     50s     1us   430ms     6ms    16ms     9ms     5ms
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size    24 371.69k      45      45      45      45       0      45
# String:
# Databases    isuports
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  #############################################
#  10ms  ################################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuports` LIKE 'id_generator'\G
#    SHOW CREATE TABLE `isuports`.`id_generator`\G
REPLACE INTO id_generator (stub) VALUES ('a')\G
